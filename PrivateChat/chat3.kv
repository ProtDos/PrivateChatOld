#:import Clipboard kivy.core.clipboard.Clipboard

<ChatScreen>:
    name: "chat"

    MDBoxLayout:
        orientation: "vertical"
        adaptive_height: True


        MDBoxLayout:
            MDLabel:
                text: "Group Key:"
                font_name: "BPoppins"
                pos_hint: {"center_x": .1, "center_y": .85}

            MDTextField:
                id: group_key
                text: "my very long keyah dasgd jzastgduzasfg dh jasfd asd"
                disabled: True
                pos_hint: {"center_y": .85}


            MDIconButton:
                pos_hint: {"center_x": .9, "center_y": .85}
                background_color: 0, 0, 0, 0
                icon: "content-copy"
                on_release:
                    Clipboard.copy(group_key.text)


        ScrollView:
            id: scroll_view
            size_hint: (1, None)
            size_hint_y: None
            height: 450
            BoxLayout:
                id: messages_box
                orientation: "vertical"
                size_hint_y: None
                height: self.minimum_height
                spacing: "8dp"
                padding: "8dp"


        MDScreen:
            MDTextField:
                id: message
                hint_text: "Enter message"
                size_hint_y: None
                height: "48dp"
                mode: "round"
                #pos_hint: {"center_y": .4}

            MDIconButton:
                icon: "send"
                pos_hint: {"center_y": .4}
                pos: message.width - self.width + dp(8), 0
                theme_text_color: "Hint"
                on_release:
                    root.send_message(message.text)
                    message.text = ""

